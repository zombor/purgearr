package malwareblocker

import "github.com/zombor/purgearr/internal/config"

// Job wraps a Blocker to implement the scheduler.Job interface
type Job struct {
	blocker *Blocker
	config  config.MalwareBlockerConfig
}

// NewJob creates a new malware blocker job
func NewJob(blocker *Blocker, cfg config.MalwareBlockerConfig) *Job {
	return &Job{
		blocker: blocker,
		config:  cfg,
	}
}

// Run executes the blocker
func (j *Job) Run() error {
	_, err := j.blocker.Block()
	return err
}

// ID returns the job ID
func (j *Job) ID() string {
	return "malware-blocker"
}

// Name returns the job name
func (j *Job) Name() string {
	return "Malware Blocker"
}

