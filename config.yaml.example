server:
  host: "0.0.0.0"
  port: 8080

arrs:
  - kind: "sonarr"
    id: "main"
    name: "Main Sonarr"
    url: "http://localhost:8989"
    api_key: "your-sonarr-api-key"
    enabled: true
    remove_from_client: false  # If true, remove from download client; if false, ignore download (default: false)
    blocklist: false            # If true, blocklist the release to prevent re-download (default: false)
  - kind: "lidarr"
    id: "main"
    name: "Main Lidarr"
    url: "http://localhost:8686"
    api_key: "your-lidarr-api-key"
    enabled: true
    remove_from_client: false  # If true, remove from download client; if false, ignore download (default: false)
    blocklist: false            # If true, blocklist the release to prevent re-download (default: false)

bittorrent_clients:
  - kind: "qbittorrent"
    id: "main"
    name: "Main qBittorrent"
    url: "http://localhost:8080"
    username: "admin"
    password: "adminadmin"
    enabled: true

trackers:
  - id: "tleechreload"
    name: "TLeechReload"
    url_regex: "tracker\.(tleechreload|torrentleech)\.org"
    min_progress: 0.0  # Minimum progress percentage (0-100) before allowing deletion from bittorrent client
    safe_delete_progress: 10.0  # Maximum progress percentage (0-100) below which deletion is safe (won't count as hit-and-run). If set, allows deletion even when cleaner rule has delete: false
    min_ratio: 1.0  # Minimum ratio that must be met before deletion is allowed (e.g., 1.0 for 1:1)
    min_seeding_time: "7d"  # Minimum seeding time that must be met before deletion is allowed
    enabled: true

malware_blocker:
  enabled: true
  dry_run: false
  schedule: "every 1h"
  trackers:
    tracker_ids: []  # Array of tracker IDs (empty = no filtering)
    filter_mode: ""   # "include" or "exclude"
  patterns:
    - "Trailer.*"      # Matches files starting with "Trailer"
    - ".*sample.*"     # Matches files containing "sample" (case-sensitive)
    - "(?i).*sample.*" # Matches files containing "sample" (case-insensitive)
    - "\\.nfo$"        # Matches files ending with .nfo
    - "\\.srr$"        # Matches files ending with .srr
    - "\\.exe$"        # Matches files ending with .exe
    - "\\.bat$"        # Matches files ending with .bat
    - "\\.cmd$"        # Matches files ending with .cmd
    - "\\.scr$"        # Matches files ending with .scr
    - "\\.vbs$"        # Matches files ending with .vbs
    - "\\.js$"         # Matches files ending with .js

queue_cleaners:
  - id: "default"
    name: "Default Queue Cleaner"
    enabled: true
    dry_run: false
    schedule: "every 1h"
    bittorrent: ["main"]  # Array of bittorrent client IDs (empty = use all enabled)
    arrs: ["main"]        # Array of *arr app IDs (empty = use all enabled)
    stalled:
      strikes: 3              # Number of times the check can fail before action
      reset_on_progress: true # Reset strikes when progress is made
      delete_torrent: true    # Delete torrent from bittorrent client (always removed from *arr app)
    slow:
      strikes: 3              # Number of times the check can fail before action
      reset_on_progress: true # Reset strikes when progress is made
      delete_torrent: true    # Delete torrent from bittorrent client (always removed from *arr app)
      min_speed: "1MiB"      # Minimum speed (e.g., "1MiB", "1MB", "1024KB") - required for slow config
    failed_import:
      strikes: 1              # Number of times the check can fail before action
      delete_torrent: true    # Delete torrent from bittorrent client (always removed from *arr app)
    trackers:
      tracker_ids: []  # Array of tracker IDs (empty = no filtering)
      filter_mode: ""   # "include" or "exclude"

download_cleaners:
  - id: "default"
    name: "Default Download Cleaner"
    enabled: true
    dry_run: false
    schedule: "every 6h"
    clients:
      bittorrent: ["main"]  # Array of bittorrent client IDs (empty = use all enabled)
      # Note: Download cleaners don't use arr clients (they work on completed torrents)
    trackers:
      tracker_ids: []  # Array of tracker IDs (empty = no filtering)
      filter_mode: ""   # "include" or "exclude"
    max_ratio: 5.0  # Maximum ratio - clean when reached (if tracker min requirements met)
    max_seeding_time: "30d"  # Maximum seeding time - clean when reached (if tracker min requirements met)
    delete_files: false  # If true, delete files along with torrents (default: false)
